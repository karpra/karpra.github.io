<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> nginx</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,600">
  <link rel="stylesheet" href="/style.css">
  </head>
<body>
  <div class="container">
    <header class="masthead">
  <h1 class="masthead-title">
    <a href="/">karpra<span>&#39;s blog</span></a>
  </h1>
  <nav class="masthead-nav">
    
    <a href="/about">about</a>
    
    <a href="/presentation">presentation</a>
    
  </nav>
</header>
<div class="content post">
  <h1 class="post-title"> nginx</h1>
  <div class="post-date">
    <time>16 Jan 2015</time>
  </div>
  <h2>Introduction</h2>

<p>Nginx(pronounced EngineX) is one of the most popular web servers in the world and is responsible for hosting some of the largest and highest-traffic sites on the internet. It is more resource-friendly than Apache in most cases and can be used as a web server or a reverse proxy.</p>

<p>I am going to create a Virtual Machine which will run Linux OS in our case Ubuntu Linux 64 bit ( Trusty for version 14.04 ) for sake of mimicking an environment as much close to real production system. I have used <strong>Vagrant</strong> for managing my virtual machine and provisioning it for I can be saved from hastle of downloading a Ubuntu Linux ISO and installing on newly created Virtual Machine.</p>

<h2>Pre-Requisite</h2>

<ol>
<li><strong>Vagrant</strong></li>
<li><strong>VirtualBox</strong></li>
</ol>


<p>If you are not familiar with Vagrant ,Please refer to my article on Vagrant &amp; its use <a href="http://karpra.github.io/devops/2014/09/19/introduction%20to%20vagrant/">here</a></p>

<p>Although I am provisioning a Ubuntu box , you are free to choose your preference of OS from the list of available
<a href="http://www.vagrantbox.es/">Vagrant boxes</a></p>

<pre><code>vagrant init ubuntu/trusty64
vagrant up
</code></pre>

<p>Once this command is initiated the machine will start booting up and you should see something similar to the below command.</p>

<pre><code>Bringing machine 'default' up with 'virtualbox' provider...
==&gt; default: Checking if box 'ubuntu/trusty64' is up to date...
==&gt; default: Resuming suspended VM...
==&gt; default: Booting VM...
==&gt; default: Waiting for machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: private key
    default: Warning: Connection refused. Retrying...
==&gt; default: Machine booted and ready!
</code></pre>

<p>You can ssh into the Virtual Machine by using the below command.</p>

<pre><code>vagrant ssh
</code></pre>

<p>You can run command to check the ipaddress of the machine using</p>

<pre><code>ifconfig
</code></pre>

<p>Vagrant assigns a ip address by default from your router or DHCP Server , which is dynamic.
But for the sake of experimentation we do not need to go through the details of DHCP Configuration , although
we can define out own private network for you to access it on the machine you have created your virtual machine.</p>

<p>You can edit your Vagrantfile &amp; uncomment the below line and assign a ip address like 192.168.33.10</p>

<pre><code>config.vm.network "private_network", ip: "192.168.33.10"
</code></pre>

<p> Once you do that you should load the recent changed by using the below command</p>

<pre><code> vagrant reload (or) vagrant halt followed by vagrant start
</code></pre>

<p>You can continue to use vagrant ssh or ssh manually using below command in terminal or putty( in windows).</p>

<pre><code>ssh vagrant@192.168.33.10 (or) vagrant ssh
</code></pre>

<p>You should see the same result.</p>

<h2>Install</h2>

<p>I have provisioned a ubuntu box using vagrant and i will go over details of installation of nginx in the provisioned ubuntu linux.</p>

<pre><code>vagrant@vagrant-ubuntu-trusty-64:~$ sudo apt-get upgrade
vagrant@vagrant-ubuntu-trusty-64:~$ sudo apt-get update
vagrant@vagrant-ubuntu-trusty-64:~$ sudo apt-get install nginx
</code></pre>

<p>You should see the nginx server running in the box &amp; you can check if its running by using following command below.</p>

<pre><code>vagrant@vagrant-ubuntu-trusty-64:~$ ps -ef | grep nginx
root      1093     1  0 Jan15 ?        00:00:00 nginx: master process /usr/sbin/nginx
www-data  1094  1093  0 Jan15 ?        00:00:24 nginx: worker process
www-data  1095  1093  0 Jan15 ?        00:00:00 nginx: worker process
www-data  1096  1093  0 Jan15 ?        00:00:26 nginx: worker process
www-data  1097  1093  0 Jan15 ?        00:00:26 nginx: worker process
vagrant   9206  9185  0 21:31 pts/0    00:00:00 grep --color=auto nginx
</code></pre>

<p>So now should you go to the browser and type this http://192.168.33.10/</p>

<p>You should be able to see nginx serving and displaying something on the browser.</p>

</div>

  </div>
</body>
</html>
